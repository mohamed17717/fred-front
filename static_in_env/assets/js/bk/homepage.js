const bk="https://thegoodzone.pythonanywhere.com";function getCourseStars(average){const count=5,star1='<div class="icon icon-star-fill"></div>',star0='<div class="icon icon-star-outline"></div>';let stars="";for(let i=0;i<5;i++)stars+=average>.44?star1:star0,average--;return stars}function renderMostSellCourses(){const section=document.querySelector("#courses"),coursesContainer=section.querySelector("ul"),url=`${bk}/courses/most-sell/`;fetch(url).then(res=>res.json()).then(courses=>{courses.forEach(course=>{coursesContainer.innerHTML+=`\n            <li class="item" data-to="${course.url}">\n              <div class="thumbnail" style="background-image: url(${course.thumbnail})"></div>\n              <div class="info">\n                <h3><a href="${course.url}">${course.title}</a></h3>\n\n                <div class="rating">\n                  <div>${course.rating.average}</div>\n                  <div class="stars">\n                    ${getCourseStars(course.rating.average)}\n                  </div>\n                  <div>\n                    (${course.rating.total} Ratings)\n                  </div>\n                </div>\n\n                <p>\n                  ${course.description}\n                </p>\n                <div class="footer">\n                  ${course.author_name?'<div class="author"><div class="avatar" style="flex-shrink: 0;background-image: url('+course.author_pp+')"></div><div class="name">'+course.author_name+"</div></div>":""}\n                  <div class="price">${course.price}</div>\n                </div>\n              </div>\n            </li>\n        `}),0===courses.length&&section.remove()})}function blogHomebageResponsive(){const homepageBlog=document.querySelector("#blog"),handle=()=>{window.innerWidth<1080?homepageBlog.querySelector(".item:first-child").classList.remove("cover"):homepageBlog.querySelector(".item:first-child").classList.add("cover")};handle(),homepageBlog&&window.addEventListener("resize",e=>handle())}function renderBlogs(){const section=document.querySelector("#blog"),blogsContainer=section.querySelector("ul"),url=`${bk}/blogs/`;fetch(url).then(res=>res.json()).then(blogs=>{blogs.slice(0,5).forEach(blog=>{blogsContainer.innerHTML+=`\n            <li class="item">\n              <div class="thumbnail" style="background-image: url(${blog.thumbnail})"></div>\n              <div class="info">\n                <h3>${blog.title}</h3>\n                <p>\n                  ${blog.description}\n                </p>\n                <div class="footer">\n                  <div class="author">\n                    <div class="avatar" style="flex-shrink: 0;background-image: url(${blog.author_pp})"></div>\n                    <div class="name">${blog.author_name}</div>\n                  </div>\n                  <div class="date">${blog.date}</div>\n                </div>\n              </div>\n            </li>\n        `}),blogs.length<5?(section.remove(),document.querySelector("#coaching").style.marginBottom="0"):blogHomebageResponsive()})}renderMostSellCourses(),renderBlogs();